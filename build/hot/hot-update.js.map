{"version":3,"sources":["webpack:///./src/todoList/component/common/FinalCalculate.jsx"],"names":["FinalCalculate","props","state","showClear","inputParams","isShrink","refs","code","value","setState","label","specialControl","e","inputs","Object","assign","cur","filter","item","getValidate","Number","target","targetItem","Math","round","specialControlList","indexOf","setControl","val","isNaN","Infinity","hasNumber","bind","P_value","Q_value","list","forEach","push","renderIn","outputParams","ext","window","localStorage","setItem","setValue","formula","key","title","setInput","setOutput","toggleFormula","renderFormula","confirm","React","Component"],"mappings":"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","file":"hot/hot-update.js","sourcesContent":["import React from 'react';\nimport '../common/common.less';\nclass FinalCalculate extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            showClear: false,\n            inputParams: this.props.inputParams,\n            isShrink: true\n        }\n    }\n\n    setClear() {\n        this.refs[this.props.code].value = '';\n        this.setState({\n            showClear: false\n        })\n    }\n\n    hasNumber(label, specialControl, e) {\n        const inputs = Object.assign(this.state.inputParams, []);\n        let cur = inputs.filter(item => {\n            return item.label === label\n        });\n        cur[0].value = this.getValidate(Number(e.target.value));\n\n        if(specialControl === 'm') {\n            let targetItem = inputs.filter(item =>{\n                return item.specialControl === 'p'\n            });\n            targetItem[0].value = Math.round(e.target.value / 9.5 * 0.5 *100) / 100;\n        }\n\n        if(specialControl === 'n') {\n            let targetItem = inputs.filter(item =>{\n                return item.specialControl === 'q'\n            });\n            targetItem[0].value = Math.round(e.target.value / 9.5 * 0.5 *100) / 100;\n        }\n\n        this.setState({\n            inputParams: inputs\n        })\n        let specialControlList = ['m', 'n', 'p', 'q'];\n        if(specialControl && specialControlList.indexOf(specialControl) >= 0) {\n            this.props && this.props.setControl(specialControl, e.target.value);\n        }\n    }\n\n    // 如果算不出来，返回1\n    getValidate(val) {\n        if(isNaN(val) || val === Infinity) {\n            return 1;\n        }\n        return val;\n    }\n\n    renderIn(item) {\n        if(item.specialControl === 'p' ) {\n            return <input className='input-value' onChange={this.hasNumber.bind(this, item.label, item.specialControl)} type=\"number\" placeholder={`请输入${item.label}`} value={this.props.P_value}/>\n        } else if(item.specialControl === 'q') {\n            return <input className='input-value' onChange={this.hasNumber.bind(this, item.label, item.specialControl)} type=\"number\" placeholder={`请输入${item.label}`} value={this.props.Q_value}/>\n        }\n        return <input className='input-value' onChange={this.hasNumber.bind(this, item.label, item.specialControl)} type=\"number\" placeholder={`请输入${item.label}`} defaultValue={item.value}/>\n    }\n\n    setInput() {\n        let list = [];\n        this.state.inputParams.forEach(item => {\n                list.push(<div key={item.label} className=\"input-option\">\n                    <label className='input-label'> {item.label}： </label>\n                    <div className='input-div'>\n                        {this.renderIn(item)}\n                    </div>\n                </div>)\n        });\n        return list;\n    }\n\n    setOutput() {\n        let list = [];\n        this.props.outputParams.forEach(item => {\n            if(item.ext!== 'hide') {\n                list.push(<div key={item.label}  className=\"output-option\">\n                    <label className='input-label'> {item.label}： </label>\n                    <div className='input-div'>\n                        <span> {item.value} </span>\n                    </div>\n                </div>)\n            }\n        });\n        return list;\n    }\n\n    confirm() {\n        this.state.inputParams.forEach(item => {\n            window.localStorage.setItem(item.label, this.getValidate(item.value));\n        });\n        this.props.setValue(this.state.inputParams);\n    }\n\n    renderFormula() {\n        let list = [];\n        this.props.formula.forEach((item, key) => {\n            list.push(<p key={key}> {item} </p>)\n        });\n        return list;\n    }\n\n    toggleFormula() {\n        this.setState({\n            isShrink: !this.state.isShrink\n        })\n    }\n\n    render() {\n        return <div className='input-field'>\n            <div className=\"title\"> {this.props.title} </div>\n            <div className=\"IO\">输入</div>\n\n            <div className=\"result-panel\">\n                {this.setInput()}\n            </div>\n            <div className=\"result\">结果</div>\n            <div className=\"result-panel\">\n                {this.setOutput()}\n            </div>\n            <div className={`config-formula ${this.state.isShrink === true ? 'shrink' : 'isOpen'}`}>\n                <div className={\"expand-formula\"} onClick={this.toggleFormula.bind(this)}>\n                    <div className={\"expand-formula-text\"}>计算公式</div>\n                    <div className={\"triangle\"}>\n                        {this.state.isShrink === true ?\n                         <img src='./image/icon/up.png' /> :\n                          <img src='./image/icon/down.png' />\n                        }\n                    </div>\n                </div>\n                {this.renderFormula()}\n            </div>\n            <div className='btn-div'>\n                <span className='confirm' onClick={this.confirm.bind(this)}>计算</span>\n            </div>\n        </div>\n    }\n}\n\nexport default FinalCalculate;"],"sourceRoot":""}